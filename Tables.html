<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multiplication Tables 1-20 (Background Enabled)</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Noto Sans', sans-serif;
    background: linear-gradient(135deg,#6a11cb,#2575fc);
    color: #fff;
    margin: 0;
    padding: 20px;
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
  }
  /* рокрпБродро┐роп роХроЯрпНроЯрпБрокрпНрокро╛роЯрпБ рокроХрпБродро┐ ро╕рпНроЯрпИро▓рпН */
  .controls {
      text-align: center;
      margin-bottom: 30px;
      padding: 10px;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.1);
  }
  .toggle-btn {
      padding: 10px 15px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s, color 0.3s;
  }
  .toggle-off {
      background-color: #f44336; /* роЪро┐ро╡рокрпНрокрпБ */
      color: white;
  }
  .toggle-on {
      background-color: #4CAF50; /* рокроЪрпНроЪрпИ */
      color: white;
  }
  /* роЕроЯрпНроЯро╡рогрпИ ро╕рпНроЯрпИро▓рпНро╕рпН (рооро╛ро▒рпНро▒рооро┐ро▓рпНро▓рпИ) */
  .tables {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
    gap: 20px;
  }
  .table-card {
    background: rgba(255,255,255,0.1);
    border-radius: 20px;
    padding: 16px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    backdrop-filter: blur(10px);
    transition: transform 0.3s;
    position: relative; 
  }
  .table-card:hover {
    transform: translateY(-5px);
  }
  .table-card h2 {
    text-align: center;
    margin-bottom: 12px;
  }
  .table-card ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .table-card li {
    padding: 4px 0;
    font-weight: 500;
    text-align: center;
  }
  .speech-btn {
    display: block;
    width: 100%;
    padding: 8px;
    margin-top: 10px;
    border: none;
    border-radius: 10px;
    background: #00bcd4;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  .speech-btn:hover {
    background: #00a0b2;
  }
</style>
</head>
<body>

<h1>Multiplication Tables 1-20</h1>

<div class="controls">
    <button id="wakeLockToggle" class="toggle-btn toggle-off">
        ЁЯО╢ родро┐ро░рпИроХрпНроХрпБрокрпН рокро┐ройрпНройро╛ро▓рпН рокрпЗроЪ: OFF
    </button>
    <p style="font-size:12px; color: #ccc; margin-top: 5px;">(роЗроирпНрод ро╡роЪродро┐ родро┐ро░рпИропрпИ роЕрогрпИроХрпНроХро╛рооро▓рпН/роороЩрпНроХро╛рооро▓рпН родроЯрпБроХрпНроХрпБроорпН.)</p>
</div>
<div class="tables" id="tablesContainer">
</div>

<script>
const container = document.getElementById('tablesContainer');
const speechSynthesis = window.speechSynthesis;
const wakeLockToggle = document.getElementById('wakeLockToggle');

let tamilVoice = null;
let wakeLock = null; // Wake Lock API-роР роЪрпЗрооро┐роХрпНроХ

// --- Wake Lock роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпН ---
async function requestWakeLock() {
    if ('wakeLock' in navigator && !wakeLock) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
            wakeLockToggle.textContent = 'ЁЯО╢ родро┐ро░рпИроХрпНроХрпБрокрпН рокро┐ройрпНройро╛ро▓рпН рокрпЗроЪ: ON';
            wakeLockToggle.classList.remove('toggle-off');
            wakeLockToggle.classList.add('toggle-on');
            // родро┐ро░рпИ рокрпВроЯрпНроЯрокрпНрокроЯрпНроЯро╛ро▓рпН/ро╡рпЖро│ро┐ропрпЗро▒ро┐ройро╛ро▓рпН роЕродрпБ родро╛ройро╛роХро╡рпЗ Wake Lock-роР роирпАроХрпНроХро┐ро╡ро┐роЯрпБроорпН, роЕродрпИ роорпАрогрпНроЯрпБроорпН роХрпЗроЯрпНроХ роЗроирпНрод роиро┐роХро┤рпНро╡рпИ (Event) роЕроорпИроХрпНроХро┐ро▒рпЛроорпН.
            wakeLock.addEventListener('release', () => {
                console.log('Wake Lock released by system.');
                wakeLock = null;
                // UI-роР роорпАрогрпНроЯрпБроорпН OFF роиро┐ро▓рпИроХрпНроХрпБ рооро╛ро▒рпНро▒рпБроХро┐ро▒рпЛроорпН
                wakeLockToggle.textContent = 'ЁЯО╢ родро┐ро░рпИроХрпНроХрпБрокрпН рокро┐ройрпНройро╛ро▓рпН рокрпЗроЪ: OFF';
                wakeLockToggle.classList.remove('toggle-on');
                wakeLockToggle.classList.add('toggle-off');
            });
            console.log('Wake Lock acquired.');
        } catch (err) {
            console.error(`${err.name}, ${err.message}`);
        }
    }
}

function releaseWakeLock() {
    if (wakeLock) {
        wakeLock.release();
        wakeLock = null; // release-роХрпНроХрпБрокрпН рокро┐ро▒роХрпБ роЗродрпБ null роЖроХро┐ро╡ро┐роЯрпБроорпН
        wakeLockToggle.textContent = 'ЁЯО╢ родро┐ро░рпИроХрпНроХрпБрокрпН рокро┐ройрпНройро╛ро▓рпН рокрпЗроЪ: OFF';
        wakeLockToggle.classList.remove('toggle-on');
        wakeLockToggle.classList.add('toggle-off');
        console.log('Wake Lock released manually.');
    }
}

wakeLockToggle.addEventListener('click', () => {
    if (wakeLock) {
        releaseWakeLock();
    } else {
        requestWakeLock();
    }
});

// --- Speech Synthesis роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпН (рооро╛ро▒рпНро▒рооро┐ро▓рпНро▓рпИ) ---

// 1. роХрпБро░ро▓рпН роЕроорпИрокрпНрокрпБроХро│рпИродрпН родропро╛ро░рпНрокрпНрокроЯрпБродрпНродрпБродро▓рпН
function setTamilVoice() {
    const voices = speechSynthesis.getVoices();
    tamilVoice = voices.find(voice => voice.lang === 'ta-IN');
    if (!tamilVoice && voices.length === 0) {
        speechSynthesis.onvoiceschanged = () => {
            const newVoices = speechSynthesis.getVoices();
            tamilVoice = newVoices.find(voice => voice.lang === 'ta-IN');
        };
    }
}
setTamilVoice();

// 2. рокрпЗроЪрпБро╡родро▒рпНроХро╛рой роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпБроХрпН роХрпБро▒ро┐ропрпАроЯрпБ (Speech Function)
function speakTable(tableNumber) {
    speechSynthesis.cancel();
    let textToSpeak = "";
    
    // роЗроЩрпНроХрпЗ рокрпЗроЪрпБроорпН роЙро░рпИропро┐ройрпН ро╡ро░ро┐роЪрпИ: j рокрпЖро░рпБроХрпНроХро▓рпН tableNumber
    for(let j=1; j<=20; j++){ 
        textToSpeak += `${j} рокрпЖро░рпБроХрпНроХро▓рпН ${tableNumber} роЪроороорпН ${tableNumber * j}. `;
    }

    const utterance = new SpeechSynthesisUtterance(textToSpeak);
    utterance.lang = 'ta-IN'; 
    if (tamilVoice) {
        utterance.voice = tamilVoice;
    } 
    speechSynthesis.speak(utterance);
}

// 3. HTML ро╡ро╛ропрпНрокрпНрокро╛роЯрпБроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родрпБ рооро▒рпНро▒рпБроорпН рокрпКродрпНродро╛ройрпИроЪрпН роЪрпЗро░рпНрокрпНрокродрпБ
for(let i=1; i<=20; i++){
  const card = document.createElement('div');
  card.classList.add('table-card');
  
  const h2 = document.createElement('h2');
  h2.textContent = `Table of ${i}`;
  card.appendChild(h2);
  
  const ul = document.createElement('ul');
  for(let j=1; j<=20; j++){
    const li = document.createElement('li');
    // роЗроЩрпНроХрпЗ рокроЯрпНроЯро┐ропро▓ро┐ройрпН ро╡ро░ро┐роЪрпИ: j ├Ч i
    li.textContent = `${j} ├Ч ${i} = ${i*j}`;
    ul.appendChild(li);
  }
  
  card.appendChild(ul);
  
  // Speech рокрпКродрпНродро╛ройрпИроЪрпН роЪрпЗро░рпНроХрпНроХро┐ро▒рпЛроорпН
  const speakButton = document.createElement('button');
  speakButton.classList.add('speech-btn');
  speakButton.textContent = `ЁЯЧгя╕П ро╡ро╛ропрпНрокрпНрокро╛роЯрпБ ${i} рокроЯро┐роХрпНроХ`;
  speakButton.addEventListener('click', () => speakTable(i)); 
  
  card.appendChild(speakButton);
  container.appendChild(card);
}
</script>

</body>
</html>
